(()=>{"use strict";(()=>{const e=window.location.search,t=new URLSearchParams(e);if(!t.has("tab")||"custom-post-types"!==t.get("tab"))return;const o=()=>{document.querySelector("#addNewButton").addEventListener("click",(function(){s(),n(this)})),[...document.querySelectorAll(".inlineEditButton")].forEach((e=>{e.addEventListener("click",(function(){s(),r(this)}))}))},n=()=>{const e=document.querySelector("#inlineEditTemplate").content.cloneNode(!0),t=document.querySelector("#customPostsTable");e.querySelector("legend").innerHTML="New Custom Post Type",t.querySelector("tbody").prepend(e),c(document.querySelector("#editRow"))},r=e=>{const t=document.querySelector("#inlineEditTemplate").content.cloneNode(!0),o=JSON.parse(sessionStorage.getItem("bigupCPTOption")),n=e.getAttribute("data-post-type");if(n in o){const e=o[n];for(let[o,n]of Object.entries(e))t.getElementById(o).value=n;t.querySelector("#hiddenRow").setAttribute("id","hiddenRow-"+n),t.querySelector("#editRow").setAttribute("id","editRow-"+n),t.querySelector("input#post_type").disabled=!0;const r=document.getElementById(n);r.after(t),r.style.display="none",c(document.querySelector("#editRow-"+n))}else alert("Error! "+n+" not found in session storage. Please alert plugin maintainer.")},c=e=>{a(e),u.observe(e),l(e.querySelector(".inlineCancelButton")),i(e.querySelector("#name_singular"))},l=e=>{e.addEventListener("click",(function(){s()}))},i=e=>{const t=e.closest("form").querySelector("#post_type");e.addEventListener("keyup",(function(){const o=()=>{alert("This field can only contain alphanumeric, space and hyphen characters")},n=e=>e.replace(/--+/g,"-").replace(/  +/g," ").trim(),r=e.value,c=new RegExp(e.getAttribute("pattern"),"ug");let l=r.match(c);if(!Array.isArray(l))return e.value="",void o();{const e=l.join("");l=e}if(console.log(l),r.length!==l.length)return e.value=n(l),void o();t.value=n(l)}))},s=()=>{[...document.querySelectorAll(".customPostTypeRow")].forEach((e=>{e.style.display="table-row"})),[...document.querySelectorAll(".editActive")].forEach((e=>{u.unobserve(e),e.remove()}))},a=e=>{const t=e.closest("table").querySelector("tr").querySelectorAll("th").length;e.querySelector("td").setAttribute("colspan",t)},u=new ResizeObserver((e=>{a(e[0].target)})),d=setInterval((()=>{"complete"===document.readyState&&(clearInterval(d),o())}),100)})()})();