(()=>{"use strict";(()=>{const e=window.location.search,t=new URLSearchParams(e);if(!t.has("tab")||"custom-post-types"!==t.get("tab"))return;const n=()=>{document.querySelector("#addNewButton").addEventListener("click",(function(){y(),o(this)})),[...document.querySelectorAll(".inlineEditButton")].forEach((e=>{e.addEventListener("click",(function(){y(),r(this)}))}))},o=()=>{const e=document.querySelector("#inlineEditTemplate").content.cloneNode(!0),t=document.querySelector("#customPostsTable");e.querySelector("legend").innerHTML="New Custom Post Type",t.querySelector("tbody").prepend(e),c(document.querySelector("#editRow")),a(document.querySelector("#customPostsTable #editRow #name_singular"))},r=e=>{const t=document.querySelector("#inlineEditTemplate").content.cloneNode(!0),n=JSON.parse(sessionStorage.getItem("bigupCPTOption")),o=e.getAttribute("data-post-type");if(o in n){const e=n[o];for(let[n,o]of Object.entries(e))t.getElementById(n).value=o;t.querySelector("#hiddenRow").setAttribute("id","hiddenRow-"+o),t.querySelector("#editRow").setAttribute("id","editRow-"+o),t.querySelector("input#post_type").disabled=!0;const r=document.getElementById(o);r.after(t),r.style.display="none",c(document.querySelector("#editRow-"+o))}else alert("Error! "+o+" not found in session storage. Please alert plugin maintainer.")},c=e=>{m(e),p.observe(e),l(e.querySelector(".inlineCancelButton")),s(e.querySelector("#name_singular")),s(e.querySelector("#name_plural")),i(e.querySelector("#submit"))},l=e=>{e.addEventListener("click",(function(){y()}))},s=e=>{e.addEventListener("keyup",(function(){const t=e.value,n=new RegExp(e.getAttribute("pattern"),"ug");let o=t.match(n);const r="This field can only contain alphanumeric characters, spaces and hyphens.";if(!Array.isArray(o))return e.value="",void d(e,r);{const e=o.join("");o=e}t.length!==o.length&&d(e,r),e.value=u(o)}))},a=e=>{e.addEventListener("change",(function(){const t=e.closest("form").querySelector("#post_type"),n=e.value.toLowerCase().replace(/ /g,"-").substring(0,20);t.value=n}))},i=e=>{e.addEventListener("click",(function(){}))},u=e=>e.replace(/--+/g,"-").replace(/  +/g," ").trimStart().replace(/\s+$/g," "),d=(e,t)=>{if(1==!!e.closest("label").querySelector(".inputMessage"))return;const n=document.createElement("div"),o=document.createTextNode(t);n.appendChild(o),n.classList.add("inputMessage"),e.after(n);const r=setTimeout((()=>{n.remove(),clearTimeout(r)}),5e3)},y=()=>{[...document.querySelectorAll(".customPostTypeRow")].forEach((e=>{e.style.display="table-row"})),[...document.querySelectorAll(".editActive")].forEach((e=>{p.unobserve(e),e.remove()}))},m=e=>{const t=e.closest("table").querySelector("tr").querySelectorAll("th").length;e.querySelector("td").setAttribute("colspan",t)},p=new ResizeObserver((e=>{m(e[0].target)})),S=setInterval((()=>{"complete"===document.readyState&&(clearInterval(S),n())}),100)})()})();